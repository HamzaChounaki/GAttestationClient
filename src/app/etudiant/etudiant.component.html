<div class="panel-header panel-header-sm">
  </div>
  <div class="main-content">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h5 class="title">La gestion des etudiants</h5>
            
          </div>
          <div class="card-body all-icons">
              <div class="card-body">
                    <form [formGroup]="employeForm">
                      <div class="form-group row">
                        <label  class="col-sm-2 col-form-label">Nom</label>
                        <div class="col-sm-8">
                          <input  class="form-control" formControlName="nom" [(ngModel)]="selectedEtudiant.nom"  placeholder="Nom">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label  class="col-sm-2 col-form-label">Prenom</label>
                        <div class="col-sm-8">
                          <input  class="form-control" formControlName="prenom" [(ngModel)]="selectedEtudiant.prenom"  placeholder="Prenom">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label  class="col-sm-2 col-form-label">Date de naissance</label>
                        <div class="col-sm-8">
                          <input type="date" class="form-control" formControlName="dateNaissance"  [(ngModel)]="selectedEtudiant.dateNaissance"  >
                        </div>
                      </div>
                      <div class="form-group row">
                          <label  class="col-sm-2 col-form-label">Lieu de naissance</label>
                          <div class="col-sm-8">
                            <input  class="form-control" formControlName="lieuNaissance" [(ngModel)]="selectedEtudiant.lieuNaissance"  placeholder="lieu de naissance">
                          </div>
                      </div>
                      <div class="form-group row">
                          <label  class="col-sm-2 col-form-label">Code nationale</label>
                          <div class="col-sm-8">
                            <input  class="form-control" formControlName="codeNationale" [(ngModel)]="selectedEtudiant.codeNationale"  placeholder="code nationale">
                          </div>
                      </div>
                          <div class="form-group row">
                              <label  class="col-sm-2 col-form-label">Niveau</label>
                              <div class="col-sm-8">
                                <input  class="form-control" formControlName="niveau" [(ngModel)]="selectedEtudiant.niveau"  placeholder="niveau">
                              </div>
                            </div>
                    <div class="form-group row">
                        <label  class="col-sm-2 col-form-label">Etablissement</label>
                        <div class="col-sm-8">
                          <select  class="form-control" formControlName="etablissement" (change)="findEtablissementById(selectedEtudiant.etablissement)" [(ngModel)]="selectedEtudiant.etablissement" >
                            <option disabled="disabled">SÃ©lectionnez un etablissement</option>
                            <option *ngFor="let etablissement of etablissements"  [value]="etablissement.id">{{etablissement.nom}}</option>
                          </select>
                        </div>
                      </div> 
                       <div class="form-group row">
                          <button class="btn btn-primary" (click)="operation == 'add' ? addEtudiant() : updateEtudiant()">
                              {{operation == 'add' ? 'Ajouter' :
                              operation == 'edit' ? 'Modifier' : ''}}
                          </button>
                      </div>
                      </form>
              </div>
          </div>
          
      </div>
      <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title"> Liste des etudiants</h4>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table">
                    <thead class=" text-primary">
                      <th>
                        ID
                      </th>
                      <th>
                        NOM
                      </th>
                      <th>
                        PRENOM
                      </th>
                      <th>
                        DATE NAISSANCE
                      </th>
                      <th>
                        LIEU NAISSANCE
                      </th>
                      <th>
                        CODE NATIONALE
                      </th>
                      <th>
                        NIVEAU
                      </th>
                      <th>
                        ETABLISSEMENT
                      </th>
                      <th>
                        MODIFIER
                      </th>
                      <th>
                        SUPPRIMER
                      </th>
                    </thead>
                    <tbody >
                      <tr *ngFor="let etudiant of etudiants">
                        <td>{{etudiant.id}}</td>
                        <td>{{emploetudiantye.nom}}</td>
                        <td>{{etudiant.prenom}}</td>
                        <td>{{etudiant.dateNaissance  | date: 'dd/MM/yyyy'}}</td>
                        <td>{{etudiant.lieuNaissance}}</td>
                        <td>{{etudiant.codeNationale}}</td>
                        <td>{{etudiant.niveau}}</td>
                       <td> {{etudiant.etablissement.nom}}</td>
                        <td><button class="btn btn-outline-warning"  (click)="selectedEtudiant=etudiant;selectedEtudiant.etablissement=etudiant.etablissement.id ;operation='edit';">Modifier</button></td>
                        <td><button class="btn btn-outline-danger" (click)="selectedEtudiant=etudiant ; deleteEtudiant()" >Supprimer</button></td>
                      </tr>
                    </tbody>
  
                   
                  </table>
                </div>
              </div>
          </div>
          </div>
    </div>
   
  </div>
  
  